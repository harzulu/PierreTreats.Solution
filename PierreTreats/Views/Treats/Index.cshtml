@{
  Layout = "_Layout";
}

@using System.Security.Claims
@using PierreTreats.Models;
@model List<PierreTreats.Models.Treat>;

<h1>Treat List</h1>

@if (@Model.Count == 0)
{
    <h3>No Treats currently listed.</h3>
}

@foreach (Treat treat in Model)
{
  <li>@Html.ActionLink($"{treat.Name}", "Details", new { id = treat.TreatId })</li>
}

@if (User.Identity.IsAuthenticated)
{
  <nav class="navbar navbar-light">  
    <div class="container-fluid" id="nav-background">  
      <ul class="nav navbar-nav">
        <button type="button" class="btn btn-dark">
          <span class="glyphicon glyphicon-cutlery" aria-hidden="true"></span><li>@Html.ActionLink("Add new Treat", "Create")</li>  
        </button>
      </ul>
    </div>
  </nav>
}